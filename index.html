<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>YANNIC KÃ–BI AKTIEN HANDEL AG</title>

<link rel="stylesheet" href="style.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@2"></script>
</head>
<body>

<h1>YANNIC KÃ–BI AKTIEN HANDEL AG</h1>

<div class="controls">
  <select id="stockSelect"></select>
  <select id="forecastSelect">
    <option value="7">1 Woche</option>
    <option value="21">3 Wochen</option>
    <option value="30">1 Monat</option>
    <option value="90">3 Monate</option>
    <option value="180">6 Monate</option>
    <option value="365">1 Jahr</option>
  </select>
  <button id="analyzeBtn">Analyse starten</button>
</div>

<div class="controls">
  <button data-mode="safe">ğŸŸ¢ Vorsichtig</button>
  <button data-mode="normal">ğŸŸ¡ Normal</button>
  <button data-mode="aggressive">ğŸ”´ Aggressiv</button>
</div>

<div class="info">
  <div>Modus: <b id="mode">Normal</b></div>
  <div>Konfidenz: <b id="confidence">â€“</b></div>
</div>

<div class="status" id="status">Bereit</div>

<div class="legend-box">
  <div><span class="legend-color" style="background:#00ff66"></span> Positives Ereignis</div>
  <div><span class="legend-color" style="background:#ff5555"></span> Negatives Ereignis</div>
</div>

<canvas id="chart"></canvas>

<table>
<thead>
<tr>
  <th>Aktuell (CHF)</th>
  <th>Projektion</th>
  <th>Signal</th>
  <th>Abweichung</th>
</tr>
</thead>
<tbody id="result"></tbody>
</table>

<div class="box">
<h3>ğŸ§  Modell-ErklÃ¤rung</h3>
<div id="explanation">â€“</div>
</div>

<div class="box">
<h3>ğŸ¦ Fundamentale Einordnung</h3>
<div id="fundamental">â€“</div>
</div>

<div class="box">
<h3>ğŸ“ˆ Aktuelle Nachrichten & Events</h3>
<div id="news">â€“</div>
</div>

<div class="footer">
Interne Analyse â€¢ EntscheidungsunterstÃ¼tzung â€¢ Keine Anlageberatung
</div>

<script type="module">
import { initializeStocks } from './stocks.js';
import { setMode } from './mode.js';
import { analyze } from './prognoseKI.js';

const stockSelect = document.getElementById('stockSelect');
const forecastSelect = document.getElementById('forecastSelect');
const analyzeBtn = document.getElementById('analyzeBtn');
const modeButtons = document.querySelectorAll('[data-mode]');

initializeStocks(stockSelect);

modeButtons.forEach(btn => {
  btn.addEventListener('click', () => {
    setMode(btn.dataset.mode);
  });
});

analyzeBtn.addEventListener('click', () => {
  analyze(stockSelect, { value: document.getElementById('mode').textContent.toLowerCase() }, forecastSelect);
});
</script>

</body>
</html>
